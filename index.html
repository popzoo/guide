<!DOCTYPE html>
<html lang="zh-CN" id="bgimg">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>POPZOO</title>
<!-- <meta name="description" content="引导页"> -->
<meta name="keywords" content="主页,导航页,引导页">
<!-- <link rel="icon" href="" mce_href="/dir/favicon.ico" type="image/x-icon"> -->
<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/popzoo/pop/images/favicon.ico">
<!-- <link rel="shortcut icon" href="img/favicon.ico"> -->
<link rel="stylesheet" type="text/css" href="https://www.bootcss.com/p/buttons/css/buttons.css">
<link rel="stylesheet" type="text/css" href="https://www.bootcss.com/p/buttons/css/showcase.css">
<link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/gh/popzoo/guide/css/style.css"/>
<meta name="referrer" content="no-referrer" />
<!-- music player -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan style='display:none;' id='cnzz_stat_icon_1278032070'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "v1.cnzz.com/z_stat.php%3Fid%3D1278032070%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>
<div style="text-align:center;clear:both"></div>
</head>
<body>
<div id="top">
<main id="top_main">
<div id="top_logo"><img src="https://cdn.jsdelivr.net/gh/popzoo/guide/img/tx2.png" onmouseover="mouseOver()" onmouseout="mouseOut()" onclick="authCheck()" id="mainimg"></div>
<div id="top_title"><img id="top_title01" alt="" src="https://cdn.jsdelivr.net/gh/popzoo/guide/img/toptitle01.png">
	<!-- <br class="top_hr_style01"> -->
</div>
<div class="showcase-examples l-over l-center">
  <a id="own_time" href="//popzoo.github.io/zoo/" title="时光轴" class="button button-rounded button-plain button-small-caps button-border" target="_blank">时光轴</a>
  <a id="own_danmu" href="//popzoo.github.io/danmu/" title="云弹幕" class="button button-rounded button-plain button-small-caps button-border"target="_blank" >云弹幕</a>
  <a id="own_person" href="//popzoo.github.io/zoo/personal.html" title="定制版" class="button button-rounded button-plain button-small-caps button-border"target="_blank" >定制版</a>
  <a id="own_gift" href="//popzoo.github.io/pop/giftshow.html" title="礼物秀" class="button button-rounded button-plain button-small-caps button-border" target="_blank" >礼物秀</a>
  <a id="own_car" href="//popzoo.github.io/pop/motorcade.html" title="车队展" class="button button-rounded button-plain button-small-caps button-border" target="_blank" >车队展</a>
  <a id="own_fire" href="#" title="火力房" class="button button-rounded button-plain button-small-caps button-border" target="_blank">火力房</a>
  <a id="own_form" href="#" title="报表单" class="button button-rounded button-plain button-small-caps button-border" target="_blank" >报表单</a>
  <a id="own_data" href="#" title="大数据" class="button button-rounded button-plain button-small-caps button-border" target="_blank">大数据</a>
  <!-- <a id="own_audio" href="#" onclick="checkBrowser(this)" title="音乐炮" class="button button-rounded button-plain button-small-caps button-border" >音乐炮</a> -->
  <a id="own_renew" href="#" onclick="checkBrowser(this)" title="测节点" class="button button-rounded button-plain button-small-caps button-border" >测节点</a>
  <a id="own_plane" href="#" onclick="checkBrowser(this)" title="超音速" class="button button-rounded button-plain button-small-caps button-border" >撕丝热</a>
  <a id="own_vmiss" href="#" onclick="checkBrowser(this)" title="V仇杀" class="button button-rounded button-plain button-small-caps button-border" >嵬菟芮</a>
  <!-- <a id="own_logout" href="#" onclick="logoutAuth(this)" title="一扫光" class="button button-rounded button-plain button-small-caps button-border" >一扫光</a> -->
  <a id="own_backup" href="#" onclick="checkBrowser(this)" title="选备胎" class="button button-rounded button-plain button-small-caps button-border" >选备胎</a>
<!--   <a id="status_open" href="#" title="变开火" class="button button-rounded button-plain button-small-caps button-border" target="_blank">变开火</a>
  <a id="status_close" href="#" title="变停火" class="button button-rounded button-plain button-small-caps button-border" target="_blank">变停火</a> -->  
</div>
</main>
</div>
<footer id="top_footer">
    <span id="top_copyright">
        This website has running: <span id='site-signal'>❤️</span><span id='site-time'>加载中</span><br>
        <a href="https://icp.gov.moe" target="_blank">萌ICP备</a><a href="https://icp.gov.moe/?keyword=20210112" target="_blank">20210112号</a>
        『江涵秋影枯万界,寒江孤舟驶星河』<span id='site-emoji'></span>
        <br>Copyright Reserved ©2020-2021 JadeBone.Powered by npm
        <br>侵权删除/违法举报/咨询事宜等请给站长
            <a href="mailto:lvlanxing@gmail.com?subject=邮件主题&amp;body=邮件内容" rel="nofollow" style="color:green;text-decoration:none;font-weight:bold;">发送邮件</a>，或者使用<a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=3474800140" style="color:green;font-weight:bold;">QQ联络</a>
    </span>
</footer>
</body>
<div class="aplayer" data-id="2054181801" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true"
        data-volume="0.35" ></div>
<!-- <div class="aplayer" data-id="8103" data-server="netease" data-type="artist" data-fixed="true" data-autoplay="true"
        data-volume="0.35" ></div> -->
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@1.2.0/dist/Meting.min.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/gh/popzoo/pop/js/renewLink.js"></script> -->
<script src="https://libs.baidu.com/jquery/1.7.2/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/popzoo/guide/js/Browser.js"></script>
<script src="https://cdn.jsdelivr.net/gh/popzoo/guide/js/snowy.js"></script>
<script>
    var serverUrl = "http://l27.0.0.1";
    (function getServerConfig(){
        fetch('https://cdn.jsdelivr.net/gh/popzoo/pop/json/paramConfig.json', {
            method: 'GET',
            mode: 'cors',
            cache: 'default',
            credentials: 'omit'
        }).then((res)=>{
            return res.json()
        }).then((json)=>{
            serverUrl = json.serverUrl!=undefined?window.atob(json.serverUrl):serverUrl;
            if(document.domain.indexOf("popzoo.ga")==-1){
                document.getElementById("own_fire").setAttribute("href",serverUrl+"/fire");
                document.getElementById("own_form").setAttribute("href",serverUrl+"/form");
                document.getElementById("own_data").setAttribute("href",serverUrl+"/bi");
            }else{
                document.getElementById("own_fire").setAttribute("href","https://"+document.domain+"/fire.html");
                document.getElementById("own_form").setAttribute("href","https://"+document.domain+"/form.html");
                document.getElementById("own_data").setAttribute("href","https://"+document.domain+"/bi.html");                
            }
            // document.getElementById("status_open").setAttribute("href",serverUrl+"/setstatus?status=1&nickName=admin");
            // document.getElementById("status_close").setAttribute("href",serverUrl+"/setstatus?status=0&nickName=admin");
            siteSignal();
            siteTime();
            lazyLoadImg();
            changeImg();
        }).catch((error)=>{
            console.error("请求错误", error.message)
            setTimeout(getServerConfig,1000*5);
        });
        console.info('\n' + ' %c Author GitHub ' +  ' %c https://github.com/lvlanxingapp ' + '\n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;');        
    })();
    function siteSignal(){
        window.setTimeout("siteSignal()", 2000);//(｡✪ᴗ✪｡) (*◕ᴗ◕*)  ┗(▔_▔)┛   ❤️💔💘
        document.getElementById("site-signal").innerHTML = "💔";
        document.getElementById("site-emoji").innerHTML = "(*◐ᴗ◑*)";
        setTimeout(function(){
           document.getElementById("site-signal").innerHTML = "❤️"; 
           document.getElementById("site-emoji").innerHTML = "(*✪ᴗ✪*)";
        },500);
        setTimeout(function(){
            document.getElementById("site-signal").innerHTML = "💝";
            document.getElementById("site-emoji").innerHTML = "┗(^_^)┛";
        },1000);
    }
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000
        var minutes = seconds * 60
        var hours = minutes * 60
        var days = hours * 24
        var years = days * 365
        var today = new Date()
        var todayYear = today.getFullYear()
        var todayMonth = today.getMonth()
        var todayDate = today.getDate()
        var todayHour = today.getHours()
        var todayMinute = today.getMinutes()
        var todaySecond = today.getSeconds()
        var t1 = Date.UTC(2019, 12, 12, 13, 36, 00)
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond)
        var diff = t2 - t1
        var diffYears = Math.floor(diff / years)
        var diffDays = Math.floor((diff / days) - diffYears * 365)
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours)
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes)
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds)
        document.getElementById("site-time").innerHTML = "" + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒"
    }
    function lazyLoadImg(){
        let prefix = "https://cdn.jsdelivr.net/gh/popzoo/guide/img/"; //"img/";
        let bodyBgs = ["nier_0.jpg","nier_1.jpg","nier_2.jpg","nier_3.jpg","nier_4.jpg","nier_5.jpg","nier_6.jpg","nier_7.jpg","nier_8.jpg","nier_9.jpg"];        
        preLoadImg(0);
        function preLoadImg(index){
            $.get(prefix + bodyBgs[index]);
            if(index<bodyBgs.length-1){
                setTimeout(function(){preLoadImg(++index)},500);
            }
        }        
    }
	function changeImg(){
		// let prefix = "https://lvlanxing.coding.net/p/popzoo/d/popzoo/git/raw/master/pics/";
        let prefix = "https://cdn.jsdelivr.net/gh/popzoo/guide/img/"; //"img/";
		let bodyBgs = ["nier_0.jpg","nier_1.jpg","nier_2.jpg","nier_3.jpg","nier_4.jpg","nier_5.jpg","nier_6.jpg","nier_7.jpg","nier_8.jpg","nier_9.jpg"];
		let rdIndex = Math.floor( Math.random() * bodyBgs.length );
		let img1= document.getElementById('bgimg');
		img1.style.backgroundImage='url(' + prefix + bodyBgs[rdIndex] + ')';

	    window.setTimeout(function(){changeImg()},10000);
	}
    function checkBrowser(obj){
        if(getCookie('auth')==null){
            // alert('非法请求，请登录后重试！');
            location.href = "https://"+document.domain+"/illegal.html";
        }else{
            // if(obj.id == "own_audio"){
            //     window.open(serverUrl+"/audio.html");
            if(obj.id == "own_backup"){
                window.location.href = serverUrl;
            }else{
                var info = new Browser();
                if(info.browser.indexOf('360')>-1){
                    alert('请不要用360浏览器查看此页面，强烈建议使用chrome浏览器！');
                }else{
                    if(obj.id=="own_plane"){
                        window.open(serverUrl+"/plane");
                        // window.location.href = serverUrl+"/plane";
                    }else if(obj.id=="own_vmiss"){
                        window.open(serverUrl+"/vmiss");
                        // window.location.href = serverUrl+"/vmiss";
                    }else if(obj.id=="own_renew"){
                        // window.open(serverUrl+"/renew");
                        window.open('https://service-2k6qgxkd-1253626683.bj.apigw.tencentcs.com/test/planeVmiss');
                    }                
                }                
            }
        }
    }
    // function logoutAuth(obj){
    //     if(obj.id == "own_logout"){
    //         delCookie('auth');
    //         window.location.reload(true);
    //     }
    // }
    function authCheck(){
        let pwd =window.prompt("郑重警告：此页面保密级别为【*绝密*】，仅供特勤人员专用，闲杂人等禁止入内，否则上门查水表!","");
        if (pwd!=null && pwd!=""){
            fetch(serverUrl+'/getauth?auth='+pwd.trim(),{
                method: 'GET',
                mode: 'cors', 
                cache: 'no-store', 
                credentials: 'omit', 
            }).then(res => {
                return res.json();
            }).then(json => {
                if(json.msg=="success"){
                    setCookie('auth',json.auth);
                    window.location.reload(true);
                }else{
                    delCookie("auth");
                    alert("密码错误，请刷新页面后重新输入");
                }                    
            }).catch(err => {
                console.error('请求错误', err);
            })        
        }
    }
    function mouseOver(){
        document.getElementById("mainimg").src="https://cdn.jsdelivr.net/gh/popzoo/guide/img/tx.png";//鼠标悬浮时的旋转图标
    }
    function mouseOut()
    {
        document.getElementById('mainimg').src ="https://cdn.jsdelivr.net/gh/popzoo/guide/img/tx2.png"//默认的旋转图标
    }
    // date util
    function dateFormat(fmt, date) {
        let ret;
        let opt = {
            "Y+": date.getFullYear().toString(),
            "m+": (date.getMonth() + 1).toString(),
            "d+": date.getDate().toString(),
            "H+": date.getHours().toString(),
            "M+": date.getMinutes().toString(),
            "S+": date.getSeconds().toString()
        };
        for (let k in opt) {
            ret = new RegExp("(" + k + ")").exec(fmt);
            if (ret) {
                fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")))
            };
        };
        return fmt;
    }        
    // set cookie
    function setCookie(name,value){
        //document.cookie.setPath("/");
        var exp = new Date(); 
        exp.setTime(exp.getTime() + 365*24*60*60*1000); 
        document.cookie = name + "="+ escape (value) + "; path=/; expires=" + exp.toGMTString();
    }
    // setCookie("auth","9da64484-5ca0-d2e7-888a-c857a03946bf");
    // get cookie
    function getCookie(name){
        //document.cookie.setPath("/");
        var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)"); 
    　　return (arr=document.cookie.match(reg))?unescape(arr[2]):null;
    }
    // del cookie
    function delCookie(name){
        var exp = new Date();
        exp.setTime(exp.getTime() - 1);
        var cval=getCookie(name);
        if(cval!=null) document.cookie= name + "="+cval+"; path=/; expires="+exp.toGMTString();
    }     
    // function getCookie(name){
    //     //document.cookie.setPath("/");
    //     var arr,reg=new RegExp("(^| )"+name+"=([^;]*)(;|$)"); 
    // 　　 return (arr=document.cookie.match(reg))?unescape(arr[2]):null;
    // }
    // function visibilityControl(){
    //  if(getCookie("adminUser")!=null && getCookie("adminUser").length===36){
    //    document.getElementById('renew_node').style.display="inline";
    //    document.getElementById('plane_node').style.display="inline";
    //    document.getElementById('vmiss_node').style.display="inline";
    //  }
    // }
    // visibilityControl();
	// createSnow('src/', 150);
</script>
<style type="text/css">
.snow-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100001;}</style>
<div class="snow-container"></div>
</html>